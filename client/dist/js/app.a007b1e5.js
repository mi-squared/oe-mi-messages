(function(e){function s(s){for(var a,i,c=s[0],o=s[1],l=s[2],u=0,f=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);m&&m(s);while(f.length)f.shift()();return r.push.apply(r,l||[]),t()}function t(){for(var e,s=0;s<r.length;s++){for(var t=r[s],a=!0,i=1;i<t.length;i++){var o=t[i];0!==n[o]&&(a=!1)}a&&(r.splice(s--,1),e=c(c.s=t[0]))}return e}var a={},n={app:0},r=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"a47f5331"}[e]+".js"}function c(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var s=[],t=n[e];if(0!==t)if(t)s.push(t[2]);else{var a=new Promise((function(s,a){t=n[e]=[s,a]}));s.push(t[2]=a);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=i(e);var l=new Error;r=function(s){o.onerror=o.onload=null,clearTimeout(u);var t=n[e];if(0!==t){if(t){var a=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,t[1](l)}n[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(s)},c.m=e,c.c=a,c.d=function(e,s,t){c.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,s){if(1&s&&(e=c(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)c.d(t,a,function(s){return e[s]}.bind(null,a));return t},c.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(s,"a",s),s},c.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},c.p="/interface/modules/custom_modules/oe-mi-messages/client/",c.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=s,o=o.slice();for(var u=0;u<o.length;u++)s(o[u]);var m=l;r.push([0,"chunk-vendors"]),t()})({0:function(e,s,t){e.exports=t("56d7")},"0012":function(e,s,t){},1:function(e,s){},"123d":function(e,s,t){},"1af8":function(e,s,t){"use strict";var a=t("ed40"),n=t.n(a);n.a},2:function(e,s){},2412:function(e,s,t){"use strict";var a=t("379d"),n=t.n(a);n.a},3:function(e,s){},"32f9":function(e,s,t){},"379d":function(e,s,t){},"3cd7":function(e,s,t){"use strict";var a=t("32f9"),n=t.n(a);n.a},"3f3c":function(e,s,t){"use strict";var a=t("ea64"),n=t.n(a);n.a},4:function(e,s){},4052:function(e,s,t){"use strict";var a=t("0012"),n=t.n(a);n.a},4678:function(e,s,t){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var s=r(e);return t(s)}function r(e){if(!t.o(a,e)){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id="4678"},"4b0f":function(e,s,t){"use strict";var a=t("123d"),n=t.n(a);n.a},5:function(e,s){},"56d7":function(e,s,t){"use strict";t.r(s);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("2b0e"),n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"main-window"},[t("TheAppMenu"),t("div",{staticClass:"flex-container"},[t("router-view")],1)],1)])},r=[],i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("nav",{staticStyle:{display:"none"},attrs:{id:"app-menu"}},[t("ul",{staticClass:"list-unstyled components mb-5"},[e._m(0),t("li",{staticClass:"active"},[t("router-link",{attrs:{to:{name:"PageMessages"}}},[t("span",{staticClass:"fa fa-mail-bulk"}),e._v(" Messages")])],1),e._m(1),e._m(2),e._m(3)])])},c=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",{staticClass:"active"},[t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa fa-home"}),e._v(" Home")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",[t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa fa-user"}),e._v(" Profile")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",[t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa fa-file-invoice-dollar"}),e._v(" Billing")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",[t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa fa-cogs"}),e._v(" Settings")])])}],o={name:"TheAppMenu"},l=o,u=t("2877"),m=Object(u["a"])(l,i,c,!1,null,"876964f2",null),f=m.exports,d={components:{TheAppMenu:f}},p=d,g=(t("5c0b"),Object(u["a"])(p,n,r,!1,null,null,null)),b=g.exports,v=(t("d3b7"),t("8c4f")),h=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"messages"}},[t("TheMessageTabBar",{attrs:{openMessages:e.openMessages}}),t("div",{staticClass:"flex-container mx-2222"},[t("TheMessageSidebar"),t("div",{staticClass:"container-fluid",attrs:{id:"message-content-area"}},[t("router-view")],1)],1)],1)},j=[],_=(t("d81d"),t("b64b"),function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"tab-bar-row"},[t("nav",{staticClass:"navbar navbar-expand-md tab-bar"},[t("ul",{staticClass:"navbar-nav"},[t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link d-flex",attrs:{to:{name:"PageMessageCreate"}}},[t("div",{staticClass:"d-flex"},[t("span",[e._v("New")]),t("span",{staticClass:"d-flex align-content-center p-2"},[t("a",{staticClass:"tab-new",attrs:{href:"#"}},[t("i",{staticClass:"fa fa-plus"})])])])])],1),e._l(e.openMessages,(function(e){return t("TabItem",{key:e[".key"],attrs:{tabbedMessage:e}})}))],2)])])}),y=[],C=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link d-flex",attrs:{to:{name:"PageMessageView",params:{messageId:this.tabbedMessage[".key"]}}}},[t("div",{staticClass:"d-flex"},[t("span",{staticClass:"d-flex p-2"},[t("i",{staticClass:"fa fa-envelope"})]),t("span",[e._v(e._s(e.tabbedMessage.subject))]),t("span",{staticClass:"d-flex align-content-center p-2"},[t("a",{staticClass:"tab-closer",on:{click:function(s){return s.preventDefault(),e.closeMessage(s)}}},[t("i",{staticClass:"fa fa-times"})])])])])],1)},k=[],M=(t("b0c0"),{name:"TabItem",props:{tabbedMessage:{required:!0,type:Object}},methods:{closeMessage:function(){this.$store.dispatch("closeMessage",this.tabbedMessage),"PageMessageView"===this.$route.name&&this.$route.params.messageId===this.tabbedMessage[".key"]&&(this.$router.go(-1),this.$emit("tabClosed",this.tabbedMessage[".key"]))}}}),w=M,$=(t("89bc"),Object(u["a"])(w,C,k,!1,null,"1e26a242",null)),O=$.exports,x={name:"TheMessageTabBar",components:{TabItem:O},props:{openMessages:{required:!0,type:Array}}},T=x,I=(t("d692"),Object(u["a"])(T,_,y,!1,null,"268b6efa",null)),E=I.exports,F=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("nav",{attrs:{id:"sidebar"}},[e._m(0),t("MessageFilterList",{attrs:{messageFilters:e.messageFilters}}),t("div",{staticClass:"message-list-header-item"},[e._v("Tools")]),t("MessageToolList",{attrs:{messageTools:e.messageTools}})],1)},A=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("nav",{staticClass:"navbar navbar-expand-md message-list-controls"},[t("h1",[e._v("Filters")]),t("span",{staticClass:"message-control-menu fa fa-chevron-left"}),t("span",{staticClass:"message-control-menu fa fa-ellipsis-v"})])}],P=(t("07ac"),function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",{staticClass:"list-unstyled components"},e._l(e.messageFilters,(function(e){return t("MessageFilterListItem",{key:e[".key"],attrs:{messageFilter:e}})})),1)}),L=[],S=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",{staticClass:"message-filter-list-item"},[t("router-link",{attrs:{to:{name:"PageMessageListView",params:{listId:e.messageFilter[".key"]}}}},[t("span",{staticClass:"fa mr-3",class:e.messageFilter.faIcon}),e._v(" "+e._s(e.messageFilter.name)+" ")])],1)},z=[],D={name:"MessageFilterListItem",props:{messageFilter:{required:!0,type:Object}}},q=D,R=Object(u["a"])(q,S,z,!1,null,"c6efd804",null),U=R.exports,V={name:"MessageFilterList",components:{MessageFilterListItem:U},props:{messageFilters:{required:!0,type:Array}}},N=V,B=Object(u["a"])(N,P,L,!1,null,"02a8001e",null),H=B.exports,Y=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",{staticClass:"list-unstyled components"},e._l(e.messageTools,(function(e){return t("MessageToolListItem",{key:e[".key"],attrs:{messageTool:e}})})),1)},J=[],W=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",{staticClass:"message-tool-list-item"},[t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa mr-3",class:e.messageTool.faIcon}),e._v(" "+e._s(e.messageTool.name))])])},G=[],K={name:"MessageToolListItem",props:{messageTool:{required:!0,type:Object}}},Q=K,X=Object(u["a"])(Q,W,G,!1,null,"27aa24a4",null),Z=X.exports,ee={name:"MessageToolList",components:{MessageToolListItem:Z},props:{messageTools:{required:!0,type:Array}}},se=ee,te=Object(u["a"])(se,Y,J,!1,null,"6572485e",null),ae=te.exports,ne={name:"TheMessageSidebar",components:{MessageToolList:ae,MessageFilterList:H},computed:{messageFilters:function(){return Object.values(this.$store.state.messageFilters)},messageTools:function(){return Object.values(this.$store.state.messageTools)}}},re=ne,ie=(t("2412"),Object(u["a"])(re,F,A,!1,null,"1ddaaa8a",null)),ce=ie.exports,oe={name:"Messages",components:{TheMessageSidebar:ce,TheMessageTabBar:E},computed:{openMessages:function(){var e=this,s=[];return this.$store.state.userState.openTabs&&(s=Object.keys(this.$store.state.userState.openTabs).map((function(s){return e.$store.state.messages[s]}))),s}},beforeCreate:function(){this.$store.dispatch("fetchAllMessageFilters")}},le=oe,ue=(t("3f3c"),Object(u["a"])(le,h,j,!1,null,"407ac2f2",null)),me=ue.exports,fe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"message-view-container"},[t("nav",{staticClass:"navbar navbar-expand-md message-bar"},[e.assignable?t("div",[e._m(0)]):t("div",[e._m(1)]),t("h1",[e._v(e._s(e.message.subject))]),e._l(e.teamRecipients,(function(e){return t("AppTeam",{key:e[".key"],attrs:{team:e}})})),e._m(2)],2),e.assignable?t("div",[e._v(" Assignee "),e.isAssigned?t("span",[t("a",{attrs:{href:"#"}},[t("img",{staticClass:"avatar",attrs:{src:e.assignedUser.avatar}})])]):e.assignable?t("span",[e._m(3)]):e._e()]):e._e(),t("div",{staticClass:"message-view",attrs:{id:"message-view"}},[t("div",{staticClass:"reply-item"},[t("div",{staticClass:"media g-mb-30 media-comment"},[t("img",{staticClass:"d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15",attrs:{src:e.from.avatar,alt:e.from.name}}),t("div",{staticClass:"media-body u-shadow-v18 g-bg-secondary g-pa-30"},[t("div",{staticClass:"g-mb-15"},[t("h5",{staticClass:"h5 g-color-gray-dark-v1 mb-0"},[e._v(e._s(e.from.name))]),t("span",{staticClass:"g-color-gray-dark-v4 g-font-size-12"},[t("AppDate",{attrs:{timestamp:e.message.createdAt}})],1)]),t("p",{domProps:{innerHTML:e._s(e.message.body)}}),e._m(4)])])]),t("ReplyList",{attrs:{message:e.message}}),t("div",{attrs:{id:"scroll-to-me"}}),t("div",{staticClass:"message-editor"},[t("TextEditor"),e._m(5)],1)],1)])},de=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa fa-square"})])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa fa-envelope"})])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",[t("li",[t("span",{staticClass:"fa fa-star"}),t("span",[e._v("Follow")])]),t("li",[t("span",{staticClass:"fa fa-keyboard"}),t("span",[e._v("Compose")])]),t("li",[t("span",{staticClass:"fa fa-chevron-down"}),t("span",[e._v("details")])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("a",{attrs:{href:"#"}},[t("span",{staticClass:"avatar empty"})])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",{staticClass:"list-inline d-sm-flex my-0"},[t("li",{staticClass:"list-inline-item g-mr-20"},[t("a",{staticClass:"u-link-v5 g-color-gray-dark-v4 g-color-primary--hover",attrs:{href:"#!"}},[t("i",{staticClass:"fa fa-thumbs-up g-pos-rel g-top-1 g-mr-3"}),e._v(" 178 ")])]),t("li",{staticClass:"list-inline-item g-mr-20"},[t("a",{staticClass:"u-link-v5 g-color-gray-dark-v4 g-color-primary--hover",attrs:{href:"#!"}},[t("i",{staticClass:"fa fa-thumbs-down g-pos-rel g-top-1 g-mr-3"}),e._v(" 34 ")])]),t("li",{staticClass:"list-inline-item ml-auto"},[t("a",{staticClass:"u-link-v5 g-color-gray-dark-v4 g-color-primary--hover",attrs:{href:"#!"}},[t("i",{staticClass:"fa fa-reply g-pos-rel g-top-1 g-mr-3"}),e._v(" Reply ")])])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"message-editor-actions-container"},[t("ul",{staticClass:"message-editor-actions"},[t("li",[t("a",{},[e._v("Send")])])])])}],pe=(t("a15b"),function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",{attrs:{title:e._f("humanFriendlyDate")(e.timestamp)}},[e._v(e._s(e._f("humanFriendlyDate")(e.timestamp)))])}),ge=[],be=(t("a9e3"),t("c1df")),ve=t.n(be),he={name:"AppDate",props:{timestamp:{required:!0,type:Number}},filters:{humanFriendlyDate:function(e){var s="",t=ve()().toISOString(),a=ve.a.unix(e).toISOString();return s=ve()(a).isSame(t,"hour")?ve()(a).fromNow():ve()(a).isSame(t,"day")?ve()(a).format("[Today at] h:mA"):ve()(a).isSame(t,"week")?ve()(a).format("ddd h:mA"):ve()(a).isSame(t,"month")||ve()(a).isSame(t,"year")?ve()(a).format("MMM D"):ve()(a).format("MMM D, YYYY"),s}}},je=he,_e=Object(u["a"])(je,pe,ge,!1,null,"18a52c3c",null),ye=_e.exports,Ce=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"text-editor",on:{click:e.editorClicked}},[t("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(e){var s=e.commands,a=e.isActive;return[t("div",{staticClass:"text-editor-menu-bar"},[t("ul",{staticClass:"button-bar"},[t("li",{staticClass:"item"},[t("a",{staticClass:"link",class:{"is-active":a.bold()},on:{click:s.bold}},[t("i",{staticClass:"fa fa-bold"})])]),t("li",{staticClass:"item"},[t("a",{staticClass:"link",class:{"is-active":a.bold()},on:{click:s.italic}},[t("i",{staticClass:"fa fa-italic"})])]),t("li",{staticClass:"item"},[t("a",{staticClass:"link",class:{"is-active":a.bold()},on:{click:s.underline}},[t("i",{staticClass:"fa fa-underline"})])])])])]}}])}),t("div",{ref:"editor",staticClass:"text-editor-textarea"},[t("editor-content",{attrs:{editor:e.editor}})],1)],1)},ke=[],Me=t("cd42"),we=t("f23d"),$e={name:"TextEditor",components:{EditorContent:Me["b"],EditorMenuBar:Me["c"]},methods:{editorClicked:function(){this.editor.focus()}},data:function(){var e=this;return{editor:new Me["a"]({content:"",autoFocus:!0,extensions:[new we["a"],new we["b"],new we["c"]]}).on("update",(function(s){var t=s.getHTML,a=t();e.$emit("updateContent",a)}))}},beforeDestroy:function(){this.editor.destroy()}},Oe=$e,xe=(t("4b0f"),Object(u["a"])(Oe,Ce,ke,!1,null,"e45e5008",null)),Te=xe.exports,Ie=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",{staticClass:"team badge"},[e._v("#"+e._s(e.team.name))])},Ee=[],Fe={name:"AppTeam",props:{team:{required:!0,type:Object}}},Ae=Fe,Pe=(t("9fd2"),Object(u["a"])(Ae,Ie,Ee,!1,null,"7c81b827",null)),Le=Pe.exports,Se=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"reply-list"},e._l(e.replies,(function(e){return t("ReplyListItem",{key:e[".key"],attrs:{reply:e}})})),1)},ze=[],De=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"reply-item"},[t("div",{staticClass:"media g-mb-30 media-comment"},[t("img",{staticClass:"d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15",attrs:{src:e.from.avatar,alt:e.from.name}}),t("div",{staticClass:"media-body u-shadow-v18 g-bg-secondary g-pa-30"},[t("div",{staticClass:"g-mb-15"},[t("h5",{staticClass:"h5 g-color-gray-dark-v1 mb-0"},[e._v(e._s(e.from.name))]),t("span",{staticClass:"g-color-gray-dark-v4 g-font-size-12"},[t("AppDate",{attrs:{timestamp:e.reply.createdAt}})],1)]),t("p",[e._v(e._s(e.reply.body))]),e._m(0)])])])},qe=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ul",{staticClass:"list-inline d-sm-flex my-0"},[t("li",{staticClass:"list-inline-item g-mr-20"},[t("a",{staticClass:"u-link-v5 g-color-gray-dark-v4 g-color-primary--hover",attrs:{href:"#!"}},[t("i",{staticClass:"fa fa-thumbs-up g-pos-rel g-top-1 g-mr-3"}),e._v(" 178 ")])]),t("li",{staticClass:"list-inline-item g-mr-20"},[t("a",{staticClass:"u-link-v5 g-color-gray-dark-v4 g-color-primary--hover",attrs:{href:"#!"}},[t("i",{staticClass:"fa fa-thumbs-down g-pos-rel g-top-1 g-mr-3"}),e._v(" 34 ")])]),t("li",{staticClass:"list-inline-item ml-auto"},[t("a",{staticClass:"u-link-v5 g-color-gray-dark-v4 g-color-primary--hover",attrs:{href:"#!"}},[t("i",{staticClass:"fa fa-reply g-pos-rel g-top-1 g-mr-3"}),e._v(" Reply ")])])])}],Re={name:"ReplyListItem",components:{AppDate:ye},props:{reply:{required:!0,type:Object}},computed:{from:function(){return this.$store.state.users[this.reply.userId]}}},Ue=Re,Ve=(t("6f52"),Object(u["a"])(Ue,De,qe,!1,null,"04698f0e",null)),Ne=Ve.exports,Be={name:"ReplyList",components:{ReplyListItem:Ne},props:{message:{required:!0,type:Object}},computed:{replies:function(){var e=this;return Object.keys(this.message.replies).map((function(s){return e.$store.state.replies[s]}))}}},He=Be,Ye=Object(u["a"])(He,Se,ze,!1,null,"90027f5c",null),Je=Ye.exports,We={name:"PageViewMessage",components:{ReplyList:Je,TextEditor:Te,AppDate:ye,AppTeam:Le},props:{messageId:{required:!0,type:String}},computed:{message:function(){return this.$store.state.messages[this.messageId]},from:function(){return this.$store.state.users[this.message.userId]},isAssigned:function(){return null!==this.message.assignedTo},assignedUser:function(){var e=this.$store.state.users[this.message.assignedTo];return e},assignable:function(){return!0===this.message.assignable},recipientsList:function(){var e=this;return Object.keys(this.message.recipients.users).map((function(s){return e.$store.state.users[s].name})).join(", ")},teamRecipients:function(){var e=this;return this.message.recipients.teams?Object.keys(this.message.recipients.teams).map((function(s){return e.$store.state.teams[s]})):[]}},mounted:function(){var e=document.getElementById("message-view");e.scrollTop=e.scrollHeight},created:function(){this.$store.dispatch("fetchMessage",this.messageId).then((function(e){alert(e.subject)}))}},Ge=We,Ke=(t("f482"),Object(u["a"])(Ge,fe,de,!1,null,"0e06929b",null)),Qe=Ke.exports,Xe=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"message-list"},[t("MessageList",{attrs:{messages:e.messages}})],1)},Ze=[],es=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("table",{staticClass:"table"},[e._m(0),t("tbody",e._l(e.messages,(function(e){return t("MessageListItem",{key:e[".key"],attrs:{message:e}})})),1)])},ss=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("thead",[t("tr",[t("th",[t("input",{attrs:{type:"checkbox"}})]),t("th",[e._v("Status")]),t("th",[e._v("Message")]),t("th",[e._v("Indicators")]),t("th",[e._v("Participants")]),t("th",[e._v("Created")]),t("th",[e._v("Actions")])])])}],ts=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",{staticClass:"message-list-item",class:{assignable:e.assignable},on:{click:function(s){return e.viewMessage()}}},[e._m(0),t("td",{staticClass:"toolbar-column"},[t("ul",{staticClass:"toolbar"},[t("li",[t("span",{staticClass:"status",class:e.statusClass})])])]),t("td",[t("div",{staticClass:"subject"},[t("span",{class:{unread:e.unread}},[e._v(e._s(e.message.subject))]),e._l(e.tags,(function(e){return t("TagItem",{key:e[".key"],attrs:{tag:e}})}))],2),t("div",{attrs:{clas:"preview"}},[e._v(e._s(e.message.body))]),t("div",{staticClass:"attachments"},e._l(e.attachments,(function(e){return t("AttachmentItem",{key:e[".key"],attrs:{file:e}})})),1)]),t("td",{staticClass:"toolbar-column"},[t("ul",{staticClass:"toolbar"},[t("li",[t("span",{staticClass:"far fa-comment-alt"}),e._v(" "+e._s(e.replyCount))]),e.hasViewers?t("li",[t("span",{staticClass:"fa fa-eye",attrs:{title:e.viewersList}})]):t("li",[t("span")])])]),t("td",[t("div",[t("span",{class:{unread:e.unread}},[e._v(e._s(e.fromName))])]),t("div",{staticClass:"actors"},[e._l(e.teamRecipients,(function(e){return t("AppTeam",{key:e[".key"],attrs:{team:e}})})),e._v(" "),t("span",{staticClass:"recipient-list"},[e._v(e._s(e.recipientsList))])],2)]),t("td",[t("span",{class:{unread:e.unread}},[t("AppDate",{attrs:{timestamp:this.message.createdAt}})],1)]),t("td",{staticClass:"toolbar-column"},[t("ul",{staticClass:"toolbar"},[e.isAssigned?t("li",[t("a",{attrs:{href:"#"}},[t("img",{staticClass:"avatar",attrs:{src:e.assignedUser.avatar}})])]):t("li",[e._m(1)]),e._m(2)])])])},as=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("td",[t("input",{attrs:{type:"checkbox"}})])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("a",{attrs:{href:"#"}},[t("span",{staticClass:"avatar empty"})])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",[t("a",{attrs:{href:"#"}},[t("span",{staticClass:"fa fa-archive"})])])}],ns=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"badge bg-gray"},[e._v(e._s(e.tag.name))])},rs=[],is={name:"TagItem",props:{tag:{required:!0,type:Object}}},cs=is,os=Object(u["a"])(cs,ns,rs,!1,null,"5652b663",null),ls=os.exports,us=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"attachment badge",on:{click:function(s){return s.stopPropagation(),e.viewFile()}}},[t("span",{staticClass:"fa filename",class:e.icon}),e._v(" "),t("span",{staticClass:"filename"},[e._v(e._s(e.file.name))])])},ms=[],fs=(t("ac1f"),t("1276"),{name:"AttachementItem",props:{file:{required:!0,type:Object}},methods:{viewFile:function(){this.$router.push({name:"PagePDFVue",params:{fileId:this.file[".key"]}})}},computed:{icon:function(){var e=this.file.name.split(".").pop().toLowerCase(),s="fa-file";return"pdf"===e&&(s="fa-file"),s}}}),ds=fs,ps=(t("1af8"),Object(u["a"])(ds,us,ms,!1,null,"59268112",null)),gs=ps.exports,bs={name:"MessageListItem",components:{AppTeam:Le,AppDate:ye,AttachmentItem:gs,TagItem:ls},props:{message:{required:!0,type:Object}},methods:{viewMessage:function(){this.$router.push({name:"PageMessageView",params:{messageId:this.message[".key"]}}),this.$store.dispatch("openMessage",this.message)},takeOwnership:function(){this.$store.dispatch("takeOwnership",{message:this.message,userId:1})}},computed:{unread:function(){return!1===this.message.isRead},replyCount:function(){return Object.keys(this.message.replies).length},isAssigned:function(){return null!==this.message.assignedTo},statusClass:function(){var e="";return e=!1===this.message.isRead?"far fa-check-circle unread":!0===this.message.isRead&&"complete"===this.message.status?"fas fa-check-circle complete":"far fa-check-circle new",e},assignedUser:function(){var e=this.$store.state.users[this.message.assignedTo];return e},assignable:function(){return!0===this.message.assignable},attachments:function(){var e=this,s=Object.keys(this.message.attachments).map((function(s){return e.$store.state.files[s]}));return s},tags:function(){var e=this,s=Object.keys(this.message.tags).map((function(s){return e.$store.state.tags[s]}));return s},fromName:function(){return this.$store.state.users[this.message.userId].name},viewersList:function(){var e=this,s=Object.keys(this.message.viewers),t="";t=s.length>1?" are viewing":" is viewing";var a=s.map((function(s){return e.$store.state.users[s].name})).join(", ");return a+t},hasViewers:function(){return Object.keys(this.message.viewers).length>0},recipientsList:function(){var e=this;return Object.keys(this.message.recipients.users).map((function(s){return e.$store.state.users[s].name})).join(", ")},teamRecipients:function(){var e=this;return Object.keys(this.message.recipients.teams).map((function(s){return e.$store.state.teams[s]}))}}},vs=bs,hs=(t("4052"),Object(u["a"])(vs,ts,as,!1,null,"21a4544b",null)),js=hs.exports,_s={name:"MessageList",components:{MessageListItem:js},props:{messages:{required:!0,type:Array}}},ys=_s,Cs=(t("7057"),Object(u["a"])(ys,es,ss,!1,null,"b890dc94",null)),ks=Cs.exports,Ms={name:"PageViewMessageList",components:{MessageList:ks},props:{listId:{required:!0,type:String}},computed:{messages:function(){var e=this;return Object.keys(this.$store.state.messageFilters[this.listId].messages).map((function(s){return e.$store.state.messages[s]}))}}},ws=Ms,$s=Object(u["a"])(ws,Xe,Ze,!1,null,"9cf1d2b4",null),Os=$s.exports,xs=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"message-view"},[t("form",{on:{submit:function(s){return s.preventDefault(),e.save(s)}}},[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],staticClass:"form-input",attrs:{type:"text",id:"message_subject",name:"subject"},domProps:{value:e.subject},on:{input:function(s){s.target.composing||(e.subject=s.target.value)}}})]),t("div",{staticClass:"form-group"},[t("FieldUserSelect",{on:{updateRecipients:function(s){e.recipients=s}}})],1),t("div",{staticClass:"form-group"},[t("TextEditor",{on:{updateContent:function(s){e.body=s}}})],1),e._m(0)])])},Ts=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"btn-group"},[t("button",{staticClass:"btn btn-ghost"},[e._v("Cancel")]),t("button",{staticClass:"btn btn-blue",attrs:{type:"submit",name:"Publish"}},[e._v("Publish ")])])}],Is=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"user-select"},[t("vue-tags-input",{staticClass:"tags-input",attrs:{placeholder:"Select users or teams",tags:e.tags,"allow-edit-tags":!1,"autocomplete-items":e.filteredUsers},on:{"tags-changed":e.updateRecipients},scopedSlots:e._u([{key:"autocomplete-item",fn:function(s){return t("div",{staticClass:"my-item",on:{click:function(e){return s.performAdd(s.item)}}},[t("img",{staticClass:"avatar",attrs:{src:s.item.avatar}}),e._v(" "+e._s(s.item.text)+" ")])}},{key:"tag-left",fn:function(e){return t("div",{staticClass:"my-tag-left",on:{click:function(s){return e.performOpenEdit(e.index)}}},[t("img",{staticClass:"avatar",attrs:{src:e.tag.avatar}})])}}]),model:{value:e.tag,callback:function(s){e.tag=s},expression:"tag"}})],1)},Es=[],Fs=t("c7a0"),As=t.n(Fs),Ps={name:"FieldUserSelect",components:{VueTagsInput:As.a},props:{users:{required:!1,type:Array}},data:function(){return{tag:"",separators:[";",","],tags:[]}},methods:{updateRecipients:function(e){this.tags=e,this.$emit("updateRecipients",this.tags)}},computed:{filteredUsers:function(){return Object.values(this.$store.state.users).map((function(e){return{text:e.username,avatar:e.avatar,id:e[".key"]}}))}}},Ls=Ps,Ss=Object(u["a"])(Ls,Is,Es,!1,null,"a0794a7e",null),zs=Ss.exports,Ds={name:"PageMessageCreate",components:{FieldUserSelect:zs,TextEditor:Te},data:function(){return{subject:"",body:"",recipients:[],attachments:[]}},methods:{save:function(){var e=this,s={subject:this.subject,body:this.body,recipients:this.recipients};this.$emit("save",{message:s}),this.$store.dispatch("createMessage",s).then((function(s){e.$router.push({name:"PageMessageView",params:{messageId:s[".key"]}}),e.$store.dispatch("openMessage",s)}))}}},qs=Ds,Rs=Object(u["a"])(qs,xs,Ts,!1,null,"7abdda90",null),Us=Rs.exports,Vs=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"fullscreen"},[t("nav",{staticClass:"navbar navbar-dark sticky-top"},[t("h1",{staticClass:"navbar-brand"},[e._v("Filename goes here")]),t("ul",{staticClass:"nav navbar-nav ml-auto"},[t("li",[t("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.downloadWithAxios()}}},[t("span",{staticClass:"fas fa-download"})])]),t("li",[t("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.$refs.pdf[0].print()}}},[t("span",{staticClass:"fas fa-print"})])]),t("li",[t("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),e.closeFile()}}},[t("span",{staticClass:"fas fa-times"})])])])]),t("div",{staticClass:"canvas-container"},e._l(e.numPages,(function(s){return t("pdf",{key:s,ref:"pdf",refInFor:!0,staticClass:"canvas",attrs:{src:e.src,page:s}})})),1)])},Ns=[],Bs=(t("3ca3"),t("ddb0"),t("2b3d"),t("858e")),Hs=t("bc3a"),Ys=t.n(Hs),Js=Bs["a"].createLoadingTask("http://localhost:8080/PT_Complex.pdf"),Ws={components:{pdf:Bs["a"]},data:function(){return{src:"http://localhost:8080/PT_Complex.pdf",numPages:void 0}},methods:{closeFile:function(){this.$router.back()},download:function(){},forceFileDownload:function(e){var s=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=s,t.setAttribute("download","file.pdf"),document.body.appendChild(t),t.click()},downloadWithAxios:function(){var e=this;Ys()({method:"get",url:this.src,responseType:"arraybuffer"}).then((function(s){e.forceFileDownload(s)})).catch((function(){return console.log("error occured")}))}},mounted:function(){var e=this;Js.promise.then((function(s){e.numPages=s.numPages}))}},Gs=Ws,Ks=(t("3cd7"),Object(u["a"])(Gs,Vs,Ns,!1,null,"5834e823",null)),Qs=Ks.exports;a["a"].use(v["a"]);var Xs=[{path:"/",redirect:"/messages"},{path:"/about",name:"About",component:function(){return t.e("about").then(t.bind(null,"f820"))}},{path:"/file/:fileId",name:"PagePDFVue",component:Qs},{path:"/messages",name:"PageMessages",component:me,children:[{path:"message/:messageId",name:"PageMessageView",component:Qe,props:!0},{path:"message/create",name:"PageMessageCreate",component:Us},{path:"list/:listId",name:"PageMessageListView",component:Os,props:!0}]}],Zs=new v["a"]({mode:"history",base:"/interface/modules/custom_modules/oe-mi-messages/client/",routes:Xs}),et=Zs,st=(t("4160"),t("159b"),t("5530")),tt=t("2f62");a["a"].use(tt["a"]);var at=new tt["a"].Store({state:{userState:{},messageFilters:{},messageTools:{},messages:{},authId:"4"},actions:{openMessage:function(e,s){var t=e.commit,a=s[".key"];t("appendMessageToOpenMessages",{message:s,messageId:a})},closeMessage:function(e,s){var t=e.commit,a=s[".key"];t("removeMessageFromOpenMessages",{message:s,messageId:a})},takeOwnership:function(e,s){e.commit,s.message,s.userId},createMessage:function(e,s){var t=e.commit,a=e.state,n="greatMessage"+Math.random();return s[".key"]=n,s.userId=a.authId,s.createdAt=Math.floor(Date.now()/1e3),t("setMessage",{message:s,messageId:n}),t("appendMessageToUserSent",{userId:s.userId,messageId:n}),Promise.resolve(a.messages[n])},fetchMessage:function(e,s){var t=e.state,a=e.commit,n=s.id;return new Promise((function(e,s){Ys.a.get("/interface/modules/custom_modules/oe-mi-messages/index.php?action=message!fetch_message",{id:n}).then((function(s){var n=s.data;a("setMessage",{message:Object(st["a"])({},n,{".key":n.id}),messageId:n.id}),e(t.messages[n.id])}))}))},fetchAllMessageFilters:function(e){var s=e.state,t=e.commit;return new Promise((function(e,a){Ys.a.get("/interface/modules/custom_modules/oe-mi-messages/index.php?action=message!fetch_all_message_filters").then((function(a){var n=Object.values(a.data);n.forEach((function(e){t("setMessageFilter",{messageFilter:Object(st["a"])({},e,{".key":e.id}),messageFilterId:e.id}),e.messages.forEach((function(e){t("setMessage",{message:Object(st["a"])({},e,{".key":e.id}),messageId:e.id})}))})),e(s.messageFiltersAll)}))}))}},mutations:{setMessage:function(e,s){var t=s.message,n=s.messageId;a["a"].set(e.messages,n,t)},setMessageFilter:function(e,s){var t=s.messageFilter,n=s.messageFilterId;a["a"].set(e.messageFilters,n,t)},appendMessageToUserSent:function(e,s){var t=s.messageId,n=s.userId,r=e.users[n];r.sent||a["a"].set(r,"sent",{}),a["a"].set(r.sent,t,t)},appendMessageToOpenMessages:function(e,s){s.message;var t=s.messageId;a["a"].set(e.userState.openTabs,t,t)},removeMessageFromOpenMessages:function(e,s){s.message;var t=s.messageId;a["a"].delete(e.userState.openTabs,t,t)}},modules:{}});a["a"].config.productionTip=!1,new a["a"]({router:et,store:at,render:function(e){return e(b)}}).$mount("#app")},"5c0b":function(e,s,t){"use strict";var a=t("9c0c"),n=t.n(a);n.a},"6d78":function(e,s,t){},"6f52":function(e,s,t){"use strict";var a=t("6d78"),n=t.n(a);n.a},7057:function(e,s,t){"use strict";var a=t("7e84"),n=t.n(a);n.a},"7e84":function(e,s,t){},"89bc":function(e,s,t){"use strict";var a=t("ef34"),n=t.n(a);n.a},"9c0c":function(e,s,t){},"9fd2":function(e,s,t){"use strict";var a=t("e2a1"),n=t.n(a);n.a},d0bb:function(e,s,t){},d692:function(e,s,t){"use strict";var a=t("d0bb"),n=t.n(a);n.a},e2a1:function(e,s,t){},ea64:function(e,s,t){},ed40:function(e,s,t){},ef34:function(e,s,t){},f482:function(e,s,t){"use strict";var a=t("f788"),n=t.n(a);n.a},f788:function(e,s,t){}});
//# sourceMappingURL=app.a007b1e5.js.map